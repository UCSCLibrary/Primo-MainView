/* Remove Request Purchase button for non-dda items. This script is no longer needed but may serve as a reference for future development. */

app.controller('HowovpAfterController', ['$scope', function($scope){
    var vm = this;
    var checkDdaInterval;
    checkDdaInterval = window.setInterval(function(){
      var getItLinks = document.evaluate("//span[text()='Request Library Purchase']", document, null, XPathResult.ANY_TYPE, null );
      var requestPurchase = getItLinks.iterateNext();
      var relatedLinks = document.evaluate("//span[text()='xyz1121']", document, null, XPathResult.ANY_TYPE, null );
      var ddaLink = relatedLinks.iterateNext();
      if (ddaLink) {
        ddaLink.parentNode.parentNode.setAttribute("class", "hidden");
      } else {
        requestPurchase.parentNode.parentNode.parentNode.parentNode.parentNode.setAttribute("class", "hidden");
      }
    }, 500)
}]);

app.component('almaHowovpAfter', {
    bindings: { parentCtrl: '<' },
    controller: 'HowovpAfterController'
});
